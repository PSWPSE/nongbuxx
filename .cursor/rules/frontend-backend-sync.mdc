---
globs: "*.js,*.py"
description: "Frontendì™€ Backend ê°„ ë°ì´í„° êµ¬ì¡° ë° API ì¼ê´€ì„± ìœ ì§€ ê°€ì´ë“œë¼ì¸"
---

# ğŸ”„ Frontend-Backend ë™ê¸°í™” ê°€ì´ë“œë¼ì¸

## ğŸ¯ **í•µì‹¬ ì›ì¹™**

### 1ï¸âƒ£ **ë°ì´í„° êµ¬ì¡° ì¼ê´€ì„±**
- Frontendê°€ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ID/í•„ë“œëŠ” Backend API ì‘ë‹µê³¼ ì •í™•íˆ ì¼ì¹˜í•´ì•¼ í•¨
- í•˜ë“œì½”ë”©ëœ ê°’ ëŒ€ì‹  APIì—ì„œ ë™ì ìœ¼ë¡œ ë¡œë“œ
- localStorage/sessionStorageì— ì €ì¥ëœ êµ¬ë²„ì „ ë°ì´í„° ì •ê¸° ê²€ì¦

### 2ï¸âƒ£ **API ê³„ì•½ ì¤€ìˆ˜**
```javascript
// âœ… ì¢‹ì€ ì˜ˆ: API ì‘ë‹µ êµ¬ì¡° ê²€ì¦
const response = await fetch('/api/sources/extractable')
if (response.data?.sources) {
    selectedSourceIds = response.data.sources.map(s => s.id)
}

// âŒ ë‚˜ìœ ì˜ˆ: ê°€ì •ì— ì˜ì¡´
selectedSourceIds = ['yahoo_finance', 'source_004b8459'] // í•˜ë“œì½”ë”©
```

## ğŸ” **ë³€ê²½ ì‹œ ì²´í¬ë¦¬ìŠ¤íŠ¸**

### Backend ë³€ê²½ ì‹œ
- [ ] API ì‘ë‹µ ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì‚¬í•­ í™•ì¸
- [ ] Frontendì—ì„œ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  í•„ë“œ/ID ì˜í–¥ë„ ë¶„ì„
- [ ] ê¸°ì¡´ ë¸Œë¼ìš°ì € ìºì‹œì™€ì˜ í˜¸í™˜ì„± ê³ ë ¤

### Frontend ë³€ê²½ ì‹œ  
- [ ] API ì—”ë“œí¬ì¸íŠ¸ ì •í™•ì„± í™•ì¸
- [ ] ì—ëŸ¬ ì²˜ë¦¬ ë¡œì§ êµ¬í˜„
- [ ] ë¡œë”© ìƒíƒœ ë° ì‚¬ìš©ì í”¼ë“œë°± ì œê³µ

## ğŸ›¡ï¸ **ì•ˆì „ íŒ¨í„´**

### API í˜¸ì¶œ íŒ¨í„´
```javascript
// ê¶Œì¥ íŒ¨í„´: ì—ëŸ¬ ì²˜ë¦¬ í¬í•¨
async function loadSources() {
    try {
        const response = await fetch('/api/sources/extractable')
        if (!response.ok) {
            throw new Error(`HTTP ${response.status}`)
        }
        const result = await response.json()
        return result.data?.sources || []
    } catch (error) {
        console.error('Sources load failed:', error)
        showToast('ì¶œì²˜ ë¡œë“œ ì‹¤íŒ¨', 'error')
        return [] // ì•ˆì „í•œ ê¸°ë³¸ê°’
    }
}
```

### ë°ì´í„° ê²€ì¦ íŒ¨í„´
```python
# Backend: ì‘ë‹µ ë°ì´í„° ê²€ì¦
def get_extractable_sources():
    sources = get_all_extractable_sources()
    # í•„ìˆ˜ í•„ë“œ ê²€ì¦
    for source in sources:
        assert 'id' in source, f"Source missing ID: {source}"
        assert 'full_url' in source, f"Source missing full_url: {source['id']}"
    return sources
```

## âš ï¸ **ìœ„í—˜ ì‹ í˜¸ë“¤**

- ë¸Œë¼ìš°ì € ì½˜ì†”ì— 404/400 ì—ëŸ¬
- í•˜ë“œì½”ë”©ëœ ì†ŒìŠ¤ ID ì‚¬ìš©
- API ì‘ë‹µ êµ¬ì¡° ê°€ì • (optional chaining ì—†ì´)
- localStorageì— êµ¬ë²„ì „ ë°ì´í„° ì”ì¡´

---
**ğŸ’¡ Frontendì™€ BackendëŠ” í•˜ë‚˜ì˜ ì‹œìŠ¤í…œì…ë‹ˆë‹¤. ë‘˜ ì¤‘ í•˜ë‚˜ë§Œ ì—…ë°ì´íŠ¸í•˜ë©´ ì „ì²´ê°€ ë§ê°€ì§‘ë‹ˆë‹¤!**
